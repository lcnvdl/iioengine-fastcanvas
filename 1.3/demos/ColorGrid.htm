<!-- 
	iio Engine v1.3
	***************
	Live Demo: iioapps.com/color-grid
 -->
<!DOCTYPE html>
<html>
	<body>
		<script type="text/javascript" src="../core/iioEngine.min.js"></script>
		<script type="text/javascript">

ColorGrid = function(app,s){

	var size = 20;
	app.set('black');

	function getShrinkRate(){
		if(s&&s.preview) return iio.random(.05,.09);
		else return iio.random(.05,.2);
	}

	function reset(){
		app.objs=[];
		for(var c=size/2; c<app.width; c+=size)
		for(var r=size/2; r<app.height; r+=size)
			app.add({x:c,y:r},size+' simple white',{
				shrink:[getShrinkRate(),function(o){
					o.width=size;
					o.height=size;
					o.color=iio.randomColor();
				}]
			},true);
		app.draw();
	}; reset();

	this.resize=reset;

}; iio.start(ColorGrid);

		</script>
	</body>
</html>